{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bryan Samuel Velez\\\\Downloads\\\\RutaYa\\\\frontend\\\\src\\\\components\\\\Rutas.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport API from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Rutas() {\n  _s();\n  const [rutas, setRutas] = useState([]);\n  const [conductores, setConductores] = useState([]);\n  const [pedidos, setPedidos] = useState([]);\n  const [nueva, setNueva] = useState({\n    conductor_id: '',\n    notas: ''\n  });\n  const cargarTodo = async () => {\n    const c = await API.get('/conductores');\n    setConductores(c.data);\n    const p = await API.get('/pedidos');\n    setPedidos(p.data);\n    const r = await API.get('/rutas');\n    setRutas(r.data);\n  };\n  const crearRuta = async () => {\n    if (!nueva.conductor_id) return alert('Seleccione conductor');\n    await API.post('/rutas', nueva);\n    setNueva({\n      conductor_id: '',\n      notas: ''\n    });\n    cargarTodo();\n  };\n  const asignar = async (rutaId, pedidoId) => {\n    await API.post(`/rutas/${rutaId}/asignar/${pedidoId}`);\n    cargarTodo();\n  };\n  const quitar = async (rutaId, pedidoId) => {\n    await API.post(`/rutas/${rutaId}/quitar/${pedidoId}`);\n    cargarTodo();\n  };\n  useEffect(() => {\n    cargarTodo();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Rutas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: nueva.conductor_id,\n        onChange: e => setNueva({\n          ...nueva,\n          conductor_id: e.target.value\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Seleccione Conductor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), conductores.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c._id,\n          children: c.nombre\n        }, c._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 34\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Notas\",\n        value: nueva.notas,\n        onChange: e => setNueva({\n          ...nueva,\n          notas: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: crearRuta,\n        children: \"Crear Ruta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: rutas.map(r => {\n        var _r$pedidos, _r$pedidos2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: '1px solid #ddd',\n            padding: 8,\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Ruta:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), \" \", r._id, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 43\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Conductor:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), \" \", r.conductor_id, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 57\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Notas:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), \" \", r.notas, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Pedidos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), \" \", ((_r$pedidos = r.pedidos) === null || _r$pedidos === void 0 ? void 0 : _r$pedidos.length) || 0, /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"em\", {\n              children: \"Asignar pedidos pendientes:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: pedidos.filter(p => p.estado === 'pendiente').map(p => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => asignar(r._id, p._id),\n                style: {\n                  margin: 4\n                },\n                children: p.cliente\n              }, p._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n              children: \"Pedidos en la ruta:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: (_r$pedidos2 = r.pedidos) === null || _r$pedidos2 === void 0 ? void 0 : _r$pedidos2.map(id => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => quitar(r._id, id),\n                style: {\n                  margin: 4\n                },\n                children: [\"Quitar \", id]\n              }, id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 40\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)]\n        }, r._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(Rutas, \"WcjEJW9/wQ6z0mIbO95Todikdyo=\");\n_c = Rutas;\nvar _c;\n$RefreshReg$(_c, \"Rutas\");","map":{"version":3,"names":["React","useState","useEffect","API","jsxDEV","_jsxDEV","Rutas","_s","rutas","setRutas","conductores","setConductores","pedidos","setPedidos","nueva","setNueva","conductor_id","notas","cargarTodo","c","get","data","p","r","crearRuta","alert","post","asignar","rutaId","pedidoId","quitar","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","_id","nombre","placeholder","onClick","_r$pedidos","_r$pedidos2","style","border","padding","marginTop","length","filter","estado","margin","cliente","id","_c","$RefreshReg$"],"sources":["C:/Users/Bryan Samuel Velez/Downloads/RutaYa/frontend/src/components/Rutas.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport API from '../services/api';\n\nexport default function Rutas() {\n  const [rutas, setRutas] = useState([]);\n  const [conductores, setConductores] = useState([]);\n  const [pedidos, setPedidos] = useState([]);\n  const [nueva, setNueva] = useState({ conductor_id: '', notas: '' });\n\n  const cargarTodo = async () => {\n    const c = await API.get('/conductores'); setConductores(c.data);\n    const p = await API.get('/pedidos'); setPedidos(p.data);\n    const r = await API.get('/rutas'); setRutas(r.data);\n  };\n\n  const crearRuta = async () => {\n    if (!nueva.conductor_id) return alert('Seleccione conductor');\n    await API.post('/rutas', nueva);\n    setNueva({ conductor_id: '', notas: '' });\n    cargarTodo();\n  };\n\n  const asignar = async (rutaId, pedidoId) => {\n    await API.post(`/rutas/${rutaId}/asignar/${pedidoId}`);\n    cargarTodo();\n  };\n\n  const quitar = async (rutaId, pedidoId) => {\n    await API.post(`/rutas/${rutaId}/quitar/${pedidoId}`);\n    cargarTodo();\n  };\n\n  useEffect(() => { cargarTodo(); }, []);\n\n  return (\n    <div>\n      <h2>Rutas</h2>\n      <div>\n        <select value={nueva.conductor_id} onChange={e => setNueva({ ...nueva, conductor_id: e.target.value })}>\n          <option value=''>Seleccione Conductor</option>\n          {conductores.map(c => (<option key={c._id} value={c._id}>{c.nombre}</option>))}\n        </select>\n        <input placeholder='Notas' value={nueva.notas} onChange={e => setNueva({ ...nueva, notas: e.target.value })} />\n        <button onClick={crearRuta}>Crear Ruta</button>\n      </div>\n\n      <div>\n        {rutas.map(r => (\n          <div key={r._id} style={{ border: '1px solid #ddd', padding: 8, marginTop: 8 }}>\n            <strong>Ruta:</strong> {r._id}<br />\n            <strong>Conductor:</strong> {r.conductor_id}<br />\n            <strong>Notas:</strong> {r.notas}<br />\n            <strong>Pedidos:</strong> {r.pedidos?.length || 0}\n            <div style={{ marginTop: 6 }}>\n              <em>Asignar pedidos pendientes:</em>\n              <div>\n                {pedidos.filter(p => p.estado === 'pendiente').map(p => (\n                  <button key={p._id} onClick={() => asignar(r._id, p._id)} style={{ margin: 4 }}>{p.cliente}</button>\n                ))}\n              </div>\n              <em>Pedidos en la ruta:</em>\n              <div>\n                {r.pedidos?.map(id => (<button key={id} onClick={() => quitar(r._id, id)} style={{ margin: 4 }}>Quitar {id}</button>))}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}